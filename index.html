<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Assistant</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: var(--tg-theme-bg-color, #f5f5f5);
            --text-color: var(--tg-theme-text-color, #222);
            --hint-color: var(--tg-theme-hint-color, #999);
            --button-color: var(--tg-theme-button-color, #248bcf);
            --button-text: var(--tg-theme-button-text-color, #ffffff);
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { font-size: 24px; margin: 0; }
        .header p { color: var(--hint-color); font-size: 14px; }

        .card-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
            max-width: 400px;
        }

        .card {
            background: var(--button-color);
            color: var(--button-text);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            opacity: 0.8;
        }

        .card.active {
            transform: scale(1.05);
            opacity: 1;
            outline: 3px solid var(--text-color);
        }

        .emoji { font-size: 30px; display: block; margin-bottom: 5px; }
        .card-title { font-weight: bold; font-size: 14px; }

        .footer {
            margin-top: 40px;
            font-size: 12px;
            color: var(--hint-color);
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1 id="user-name">–ü—Ä–∏–≤–µ—Ç!</h1>
        <p>–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º –º–æ–µ–≥–æ –æ–±—â–µ–Ω–∏—è:</p>
    </div>

    <div class="card-container">
        <div class="card" onclick="selectMode('–î—Ä—É–≥ ü§ù', this)">
            <span class="emoji">ü§ù</span>
            <span class="card-title">–î—Ä—É–≥</span>
        </div>
        <div class="card" onclick="selectMode('–≠–∫—Å–ø–µ—Ä—Ç üéì', this)">
            <span class="emoji">üéì</span>
            <span class="card-title">–≠–∫—Å–ø–µ—Ä—Ç</span>
        </div>
        <div class="card" onclick="selectMode('–®—É—Ç–Ω–∏–∫ üé≠', this)">
            <span class="emoji">üé≠</span>
            <span class="card-title">–®—É—Ç–Ω–∏–∫</span>
        </div>
        <div class="card" onclick="selectMode('–ü—Å–∏—Ö–æ–ª–æ–≥ üåø', this)">
            <span class="emoji">üåø</span>
            <span class="card-title">–ü—Å–∏—Ö–æ–ª–æ–≥</span>
        </div>
    </div>

    <div class="footer">
        –ù–∞–∂–º–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, –∏ —è –∏–∑–º–µ–Ω—é —Å–≤–æ–π —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–∞.
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if (tg.initDataUnsafe?.user) {
            document.getElementById('user-name').innerText = `–ü—Ä–∏–≤–µ—Ç, ${tg.initDataUnsafe.user.first_name}!`;
        }

        function selectMode(mode, element) {
            // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
            tg.HapticFeedback.impactOccurred('medium');

            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É –≤—Å–µ—Ö
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–π
            element.classList.add('active');

            // –ß–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –ø–∞—É–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º
            setTimeout(() => {
                tg.sendData("MODE:" + mode);
            }, 500);
        }
    </script>
</body>
</html>
